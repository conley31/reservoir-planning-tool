<!-- JQuery -->
<script src="lib/jquery-3.2.1.min.js"></script>
<!-- Bootstrap JS -->
<script src="lib/bootstrap.min.js"></script>
<!-- For Google charts -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<!--  -->

<script src="/app.js" type="text/javascript"></script>
<script src="/error_template.js" type="text/javascript"></script>
<script src="/generateGraphData.js" type="text/javascript"></script>
<script src="/map.js" type="text/javascript"></script>
<script src="/smartresize.js" type="text/javascript"></script>
<script src="/graph.js" type="text/javascript"></script>

<!-- For Google Maps -->
<script async defer src="https://maps.googleapis.com/maps/api/js?key=<%= googleMapsKey %>&libraries=places&callback=initMap" type="text/javascript"></script>

<script>
	function validateCalculatorInput() {
		var errors = []
		var inputs = []
		var validation = true;

		inputs.push({ name: "Smallest pond volume",
								 	value: document.forms["calculator-input"]["pondVolSmallest"].value });
		inputs.push({ name: "Largest pond volume",
									value: document.forms["calculator-input"]["pondVolLargest"].value });
		inputs.push({ name: "Pond volume increment",
									value: document.forms["calculator-input"]["pondVolIncrement"].value });
		inputs.push({ name: "Pond depth",
							    value: document.forms["calculator-input"]["pondDepth"].value });
		inputs.push({ name: "Pond depth initial",
									value: document.forms["calculator-input"]["pondWaterDepthInitial"].value });
		inputs.push({ name: "Maximum soil moisture content",
									value: document.forms["calculator-input"]["maxSoilMoistureDepth"].value });
		inputs.push({ name: "Irrigation area",
									value: document.forms["calculator-input"]["irrigatedArea"].value });
		inputs.push({ name: "Irrigation depth",
									value: document.forms["calculator-input"]["irrigDepth"].value });
		inputs.push({ name: "Available water capacity",
									value: document.forms["calculator-input"]["availableWaterCapacity"].value });
		inputs.push({ name: "Drained area",
								  value: document.forms["calculator-input"]["drainedArea"].value });

		for(var i = 0; i < inputs.length; i++) {
			if(isNaN(inputs[i]["value"])) {
				errors.push(inputs[i]["name"] + " must be a number.");
				validation = false;
			}
			if(inputs[i]["value"] < 0) {
				errors.push(inputs[i]["name"] + " must be greater than or equal to 0.");
				validation = false;
			}
			if(inputs[i]["value"] === "") {
				errors.push(inputs[i]["name"] + " is a required field.")
				validation = false;
			}
		}

		if(inputs[0]["value"] >= inputs[1]["value"]) {
			errors.push("Smallest pond volume must be less than the largest pond volume");
			validation = false;
		}

		return [validation, errors];
	}
</script>

<%if (production) { %>
<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-97636470-1', 'auto');
  ga('send', 'pageview');

</script>
<% } %>
